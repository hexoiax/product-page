<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
:root {
  --green-main: #2ECC71;
  --green-dark: #1FA85C;
  --pastel-1: #ffe7c7;
  --pastel-2: #e8fff4;
}

/* ===== GENERAL FIX ===== */
html, body {
  overflow-x: hidden !important;
  margin: 0;
  background: #f8fff9;
  font-family: system-ui, sans-serif;
}

/* Fade */
.fade { opacity:0; animation:fadeIn 1s ease forwards; }
@keyframes fadeIn {
  from {opacity:0; transform: translateY(20px);}
  to   {opacity:1; transform: translateY(0);}
}

/* ===== PRODUCT LAYOUT ===== */
.product-intro {
  display: flex;
  gap: 30px;
  padding: 30px;
  max-width: 1100px;
  margin: 20px auto;
  border-radius: 18px;
  background: #ffffff;
  box-shadow: 0 6px 25px rgba(0,0,0,0.08);
}

/* ===== CAROUSEL (FIXED VERSION) ===== */
.carousel-wrapper {
  width: 100%;
  max-width: 430px;
  overflow: hidden;
  border-radius: 18px;
  background: #f7fff8;
  box-shadow: 0 10px 25px rgba(0,0,0,0.10);
}

.loop-carousel {
  width: 100%;
  overflow: hidden;
  position: relative;
  padding: 15px 0 30px;
}

.loop-track {
  display: flex;
  transition: transform .35s ease;
}

/* NEW WIDTH FIX */
.loop-slide {
  width: 80vw;          /* 80% m√†n h√¨nh ‚Üí ƒë√∫ng t·ª∑ l·ªá 80/20 */
  max-width: 350px;     /* kh√¥ng qu√° l·ªõn tr√™n desktop */
  flex-shrink: 0;
  margin-right: 16px;
}

.loop-slide img {
  width: 100%;
  border-radius: 16px;
  object-fit: cover;
  transition: .35s ease;
}

/* Active slide */
.loop-slide.active img {
  transform: scale(1);
  opacity: 1;
}

/* Next preview */
.loop-slide:not(.active) img {
  transform: scale(.92);
  opacity: 0.75;
}

/* Caption */
.caption {
  font-size: 15px;
  margin-top: 10px;
  color: #064e3b;
  opacity: 0;
  transform: translateY(8px);
  transition: .35s ease;
  padding: 0 10px;
}
.loop-slide.active .caption {
  opacity: 1;
  transform: translateY(0);
}

/* ===== PRODUCT INFO ===== */
.product-info { flex: 1; }

.badge {
  display: inline-flex;
  gap: 6px;
  padding: 6px 14px;
  border-radius: 999px;
  background: radial-gradient(circle at top left, var(--pastel-1), var(--pastel-2));
  box-shadow: 0 6px 14px rgba(0,0,0,0.08);
  font-size: 13px;
  font-weight:600;
  margin-bottom: 10px;
}

.rating-line {
  display: flex;
  gap: 6px;
  font-size: 15px;
  font-weight: 600;
  color: #166534;
  margin-bottom: 20px;
}
.star-icon { color:#FBBF24; }

/* Price */
.price-box {
  display: flex;
  gap: 12px;
  align-items:center;
  margin-bottom: 20px;
}
.final-price { font-size:32px; font-weight:800; color:#065f46; }
.original-price { text-decoration:line-through; color:#6b7280; }
.discount-red {
  padding:4px 10px;
  background:#fee2e2;
  color:#b91c1c;
  border-radius:999px;
  font-weight:700;
}

/* Gift Box */
.gift-box {
  background:#f0fff4;
  padding:14px;
  border-radius:14px;
  border:1px dashed var(--green-main);
  margin-bottom:15px;
  color:#166534;
  font-size:14px;
}

.notice {
  font-size:14px;
  margin-bottom:25px;
  font-weight:600;
  color:#064e3b;
}

/* ORDER BUTTON */
.order-btn-wrapper { text-align:center; }

.order-btn {
  background:linear-gradient(90deg,#2ECC71,#1FA85C);
  padding:18px 30px;
  border-radius:45px;
  color:white;
  cursor:pointer;
  font-weight:700;
  display:inline-block;
  box-shadow:0 8px 22px rgba(31,168,92,0.45);
  transition:.3s ease;
}
.order-btn:hover { transform: translateY(-4px); }

.btn-title {font-size:19px; font-weight:700;}
.btn-sub {font-size:13px; opacity:.95; margin-top:2px;}

.guarantee {
  text-align:center;
  font-size:13px;
  margin-top:20px;
  color:#166534;
  font-style:italic;
}

/* ===== POPUP ===== */
#popup-toggle { display:none; }

.popup-overlay {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.55);
  display:flex;
  justify-content:center;
  align-items:center;
  opacity:0;
  pointer-events:none;
  transition:.3s;
}
#popup-toggle:checked ~ .popup-overlay {
  opacity:1;
  pointer-events:auto;
}

.popup-box {
  padding:26px;
  width:350px;
  border-radius:18px;
  background:white;
  animation:pop .35s ease;
  text-align:center;
}
@keyframes pop {
  from {transform:scale(.85); opacity:0;}
  to   {transform:scale(1); opacity:1;}
}

.popup-box input {
  width:100%;
  padding:12px;
  margin-bottom:10px;
  border-radius:10px;
  border:1px solid #ccc;
}

.close-btn {
  background:#ddd;
  padding:10px;
  width:100%;
  border-radius:10px;
  cursor:pointer;
  display:block;
  margin-top:10px;
}

/* MOBILE */
@media(max-width:768px){
  .product-intro {flex-direction:column; padding:20px;}
  .carousel-wrapper {max-width:100%;}
}
</style>
</head>


<body>

<div class="product-intro fade">

  <!-- ========== SLIDER (FIXED) ========== -->
  <div class="carousel-wrapper">
    <div class="loop-carousel">
      <div class="loop-track" id="track">

        <!-- CLONE LAST -->
        <div class="loop-slide clone">
          <img src="https://ik.imagekit.io/7q6vhb7ce/sizechart%20copy.jpg?tr=w-900,q-75,f-webp">
          <div class="caption">B·∫£ng size chu·∫©n ‚Äì theo chi·ªÅu cao & c√¢n n·∫∑ng.</div>
        </div>

        <!-- REAL SLIDES -->
        <div class="loop-slide">
          <img src="https://ik.imagekit.io/7q6vhb7ce/A.jpg?tr=w-900,q-75,f-webp">
          <div class="caption">H√¨nh ·∫£nh th·∫≠t ‚Äì cao su √©p nhi·ªát.</div>
        </div>

        <div class="loop-slide">
          <img src="https://ik.imagekit.io/7q6vhb7ce/B.jpg?tr=w-900,q-75,f-webp">
          <div class="caption">Ch·ªëng th·∫•m n∆∞·ªõc tuy·ªát ƒë·ªëi.</div>
        </div>

        <div class="loop-slide">
          <img src="https://ik.imagekit.io/7q6vhb7ce/C.jpg?tr=w-900,q-75,f-webp">
          <div class="caption">ƒê∆∞·ªùng √©p nhi·ªát li·ªÅn m·∫°ch.</div>
        </div>

        <div class="loop-slide">
          <img src="https://ik.imagekit.io/7q6vhb7ce/D.jpg?tr=w-900,q-75,f-webp">
          <div class="caption">D√†y 2 l·ªõp ‚Äì gi·ªØ ·∫•m.</div>
        </div>

        <div class="loop-slide">
          <img src="https://ik.imagekit.io/7q6vhb7ce/h.jpg?tr=w-900,q-75,f-webp">
          <div class="caption">Ch·ªëng tr∆°n tr∆∞·ª£t.</div>
        </div>

        <div class="loop-slide">
          <img src="https://ik.imagekit.io/7q6vhb7ce/F.jpg?tr=w-900,q-75,f-webp">
          <div class="caption">Ph√π h·ª£p nam & n·ªØ.</div>
        </div>

        <div class="loop-slide">
          <img src="https://ik.imagekit.io/7q6vhb7ce/E.jpg?tr=w-900,q-75,f-webp">
          <div class="caption">ƒê·∫ø nguy√™n kh·ªëi ‚Äì b·ªÅn ch·∫Øc.</div>
        </div>

        <div class="loop-slide">
          <img src="https://ik.imagekit.io/7q6vhb7ce/G.jpg?tr=w-900,q-75,f-webp">
          <div class="caption">Kh·ªõp n·ªëi ch·∫Øc ch·∫Øn.</div>
        </div>

        <!-- SIZE CHART -->
        <div class="loop-slide">
          <img src="https://ik.imagekit.io/7q6vhb7ce/sizechart%20copy.jpg?tr=w-900,q-75,f-webp">
          <div class="caption">Ch·ªçn size ƒë√∫ng ƒë·ªÉ tho·∫£i m√°i nh·∫•t.</div>
        </div>

        <!-- CLONE FIRST -->
        <div class="loop-slide clone">
          <img src="https://ik.imagekit.io/7q6vhb7ce/A.jpg?tr=w-900,q-75,f-webp">
          <div class="caption">H√¨nh ·∫£nh th·∫≠t ‚Äì cao su √©p nhi·ªát.</div>
        </div>

      </div>
    </div>
  </div>

  <!-- ========== PRODUCT INFO ========== -->
  <div class="product-info">

    <div class="badge">‚òÖ Best Seller ‚Ä¢ Kh√°ch mua nhi·ªÅu</div>

    <h1 style="color:#064e3b; font-size:26px; margin:0;">
      Qu·∫ßn Li·ªÅn ·ª¶ng Cao Su 2 L·ªõp Ch·ªëng N∆∞·ªõc - Gi·ªØ ·∫§m
    </h1>

    <div class="rating-line">
      <span class="star-icon">‚òÖ</span> 4.9/5 ‚Ä¢ 18,210 sold
    </div>

    <div class="price-box">
      <div class="final-price">130.000ƒë</div>
      <div class="original-price">200.000ƒë</div>
      <div class="discount-red">-35%</div>
    </div>

    <div class="gift-box">
      üéÅ T·∫∑ng 1 ƒë√¥i gƒÉng tay<br>
      ‚ù§Ô∏è ∆Øu ƒë√£i 20% ‚Äì s·ªë l∆∞·ª£ng c√≥ h·∫°n
    </div>

    <div class="notice">‚ö† L∆∞u √Ω ƒë·∫∑t h√†ng theo size ch√¢n c·ªßa b·∫°n</div>

    <div class="order-btn-wrapper">
      <label for="popup-toggle" class="order-btn">
        <div class="btn-title">ƒê·∫∑t h√†ng ngay</div>
        <div class="btn-sub">Mi·ªÖn ph√≠ ship to√†n qu·ªëc</div>
      </label>
    </div>

    <div class="guarantee">
      * N·∫øu kh√¥ng h√†i l√≤ng, c·ª≠a h√†ng h·ªó tr·ª£ ƒë·ªïi tr·∫£ trong 7 ng√†y
    </div>

  </div>
</div>


<!-- ========== POPUP ========== -->
<input type="checkbox" id="popup-toggle">

<div class="popup-overlay">
  <div class="popup-box">
    <h2>Th√¥ng tin ƒë·∫∑t h√†ng</h2>

    <input type="text" placeholder="H·ªç v√† t√™n" />
    <input type="text" placeholder="S·ªë ƒëi·ªán tho·∫°i" />
    <input type="text" placeholder="ƒê·ªãa ch·ªâ nh·∫≠n h√†ng" />

    <label for="popup-toggle" class="close-btn">ƒê√≥ng</label>
  </div>
</div>


<!-- ========== JAVASCRIPT (FIXED SLIDER) ========== -->
<script>
const track = document.getElementById("track");
const slides = document.querySelectorAll(".loop-slide");

let current = 1;

// slide width = chi·ªÅu r·ªông slide + margin
function slideWidth() {
  return slides[0].offsetWidth + 16;
}

function goTo(index) {
  current = index;

  track.style.transition = "transform .35s ease";
  track.style.transform = `translateX(-${current * slideWidth()}px)`;

  slides.forEach(s => s.classList.remove("active"));
  slides[current].classList.add("active");
}

// initial
setTimeout(() => goTo(1), 80);

// loop
track.addEventListener("transitionend", () => {
  if (slides[current].classList.contains("clone")) {
    track.style.transition = "none";
    current = (current === slides.length - 1) ? 1 : slides.length - 2;
    track.style.transform = `translateX(-${current * slideWidth()}px)`;
    slides.forEach(s => s.classList.remove("active"));
    slides[current].classList.add("active");
  }
});

// swipe
let startX = 0;

track.addEventListener("touchstart", e => {
  startX = e.touches[0].clientX;
});

track.addEventListener("touchend", e => {
  const diff = startX - e.changedTouches[0].clientX;

  if (diff > 40) goTo(current + 1);
  else if (diff < -40) goTo(current - 1);
});

// resize fix
window.addEventListener("resize", () => {
  track.style.transition = "none";
  track.style.transform = `translateX(-${current * slideWidth()}px)`;
});
</script>

</body>
</html>
